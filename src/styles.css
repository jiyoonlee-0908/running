/* === styles.css (PC 유지, 모바일만 최적화) =============================== */

:root{
  --bg:#ffffff; --fg:#0f172a; --muted:#64748b; --border:#e2e8f0; --card:#fcfcfd;
  --primary:#ff6b00; --primary-700:#f06b00;

  /* 타입 스케일 */
  --title-size: clamp(20px, 2.6vw, 22px);
  --chart-title-size: clamp(16px, 2.1vw, 18px);
  --label-size: clamp(12px, 1.8vw, 14.5px);
  --input-size: clamp(14px, 1.9vw, 16px);
}

*{ box-sizing:border-box }
html,body{ margin:0; background:var(--bg); color:var(--fg); overflow-x:hidden }
body{ font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans KR",Arial,sans-serif }

/* 공용 표시 제어 */
.only-desktop{ display:inline }
.only-mobile{ display:none }
@media (max-width:600px){
  .only-desktop{ display:none !important }
  .only-mobile{ display:inline !important }
}

/* ===================== 헤더 ===================== */
.header{
  border-bottom:1px solid var(--border);
  background:linear-gradient(90deg,#fff6ef 0%,#fff 60%);
}
.nav{
  display:flex; align-items:center; gap:12px;
  padding:12px 16px; max-width:1140px; margin:0 auto;
}

/* 관리자 페이지 검색 */
.admin-search {
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 8px 12px;
  font-size: 14px;
  width: 200px;
  outline: none;
  transition: border-color 0.2s;
}
.admin-search:focus {
  border-color: var(--primary);
}
.brand-wrap{ display:flex; align-items:center; gap:10px; min-width:0; flex:0 1 auto }
.brand{
  font-weight:900; letter-spacing:.2px; color:var(--primary);
  font-size:2rem; line-height:1; white-space:nowrap;
}

.lang-wrap{ margin-left:auto; display:flex; align-items:center; gap:8px; white-space:nowrap }
.lang-wrap .sep{ color:#cbd5e1 }
.lang-toggle{ border:none; background:transparent; cursor:pointer; font-size:.9rem; color:var(--fg); padding:0 4px }
.lang-toggle.active{ color:var(--primary); font-weight:700 }

.user-cta{ margin-left:8px; display:flex; align-items:center; gap:10px; flex:0 0 auto }
.button{ border:1px solid var(--border); background:#fff; color:#0f172a; border-radius:12px; padding:10px 14px; font-size:.9rem; cursor:pointer }
.button.primary{ background:var(--primary); color:#fff; border-color:var(--primary) }
.user-email{ white-space:nowrap }

/* ===== 헤더 아래 크레딧(항상 표시) ===== */
.credit-under-header{
  max-width:1140px; margin:10px auto 6px; padding:0 16px;
  color:#111827; text-align:right; font-size:14px;
}
.credit-under-header strong{ font-weight:800 }

/* ================= 컨테이너/카드 ================= */
.container{ max-width:1140px; margin:0 auto; padding:16px }
.card{
  background:var(--card); border:1px solid var(--border); border-radius:16px;
  padding:16px; box-shadow:0 1px 0 rgba(15,23,42,0.02); overflow:hidden;
}
.section-title{ margin:0 0 16px 0; font-size:var(--title-size); font-weight:900; color:var(--fg) }

/* 레이아웃 */
.two-pane{ display:grid; gap:16px; grid-template-columns:repeat(2,minmax(0,1fr)); align-items:start }
@media (max-width:1100px){ .two-pane{ grid-template-columns:1fr } }
.two-pane > *{ min-width:0 }

/* 텍스트/안내 */
.help{ color:var(--muted); font-size:var(--label-size) }
.title-note{ margin-left:8px; font-size:var(--label-size); color:var(--muted); font-weight:500 }

/* 저장 안내 */
.save-hint{ color:var(--muted); font-size:.800rem; text-align:right }

/* 입력폼 */
.input,.select{
  border:1px solid var(--border); background:#fff; color:#0f172a;
  border-radius:12px; padding:12px 14px; font-size:var(--input-size); width:100%;
}
.form-grid{ display:grid; gap:12px }
.form-grid.two, .form-grid.auto{ grid-template-columns:repeat(2, minmax(0,1fr)) }
.form-grid.two > *, .form-grid.auto > *{ min-width:0 }

/* 표 */
.table-wrap{ width:100%; overflow-x:auto; margin-top:14px }
.table{ width:100%; border-collapse:collapse; min-width:960px }
.table th, .table td{ border-bottom:1px solid var(--border); padding:8px 10px; font-size:12px; white-space:nowrap; text-align:left; vertical-align:top }
.table th{ font-size:13px; line-height:1.15; white-space:normal; word-break:keep-all }
.table td.num{ text-align:right }

/* 차트 제목 */
.chart-title,.chart-card-title{
  font-size:var(--chart-title-size); font-weight:800; margin:6px 8px 4px; color:var(--fg); text-align:center;
}

/* 차트 상단 탭(보행길이/접지시간/수직비율/수직진폭) */
.subtabs{
  display:flex; gap:24px; align-items:flex-end; justify-content:center;
  margin:0 8px 8px;
}
.subtabs .tab{
  border:none; background:transparent; padding:2px 0 6px; cursor:pointer;
  font-size:var(--chart-title-size); font-weight:700;
  color:#6b7280; border-bottom:3px solid transparent; white-space:nowrap;
}
.subtabs .tab.active{
  color:#111827; font-weight:800; border-bottom-color:#111827;
}

/* Recharts 범례 텍스트 크기 */
.recharts-legend-item-text,.recharts-default-legend{
  font-size:13px !important; font-weight:600;
}

/* 차트 공통 크기 */
.charts-stack{ display:flex; flex-direction:column; gap:18px }
.chart-card.one{ border:1px solid var(--border); border-radius:16px; padding:12px }
.chart{ height:300px }

/* 모바일에서 하단 탭과 겹치지 않도록 여백 추가 */
@media (max-width:600px) {
  .charts-stack {
    padding-bottom: 72px;  /* 하단 탭 높이(56px) + 여유 공간(16px) */
  }
}

/* 토스트 & TOP 버튼 */
.toast{
  position:fixed; left:50%; bottom:24px; transform:translateX(-50%);
  background:#111; color:#fff; padding:12px 16px; border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.2); z-index:60; font-size:14px;
}
.fab-top{
  position:fixed; right:22px; bottom:22px; background:var(--primary); color:#fff;
  border:none; border-radius:999px; padding:12px 14px; box-shadow:0 12px 28px rgba(0,0,0,.18);
  cursor:pointer; display:none; z-index:55; font-weight:800;
}
.fab-top.show{ display:inline-flex; align-items:center; gap:8px }

/* ===== PC 햄버거 & 드로어 (모바일 영향 없음) ============================= */
.hamburger{ border:none; background:transparent; padding:6px; cursor:pointer }
.hamburger-icon{ position:relative; display:block; width:24px; height:2px; background:#111; border-radius:2px }
.hamburger-icon::before,.hamburger-icon::after{
  content:""; position:absolute; left:0; width:24px; height:2px; background:#111; border-radius:2px;
}
.hamburger-icon::before{ top:-7px } 
.hamburger-icon::after{ top:7px }

.sport-chip{
  font-weight:900; font-size:1rem; line-height:1;
  color:#fff; background:var(--primary); border:1px solid var(--primary);
  padding:6px 12px; border-radius:12px; margin-left:8px;
}

.top-drawer{ display:none; border-top:1px solid #0000; border-bottom:1px solid var(--border); background:#fff }
.top-drawer.show{ display:block; animation:drawerFadeIn .24s ease both }
@keyframes drawerFadeIn{ from{opacity:0; transform:translateY(-8px)} to{opacity:1; transform:translateY(0)} }

.drawer-tabs{
  max-width:1140px; margin:0 auto; padding:10px 16px;
  display:flex; gap:12px; align-items:center; justify-content:flex-start;
}

.sport-tabs{ display:flex; gap:12px }
.sport-tab{
  font-weight:900; font-size:18px;
  color:#475569; background:#fff; border:1px solid var(--border);
  padding:10px 16px; border-radius:999px; cursor:pointer;
}
.sport-tab.active{ color:#fff; background:var(--primary); border-color:var(--primary) }
.sport-tabs.md .sport-tab{ font-size:18px; padding:10px 16px }

/* ===================== 모바일(600px 이하) ===================== */
@media (max-width:600px){
  .nav{ padding:8px 10px; gap:6px; flex-wrap:nowrap }
  .brand{ font-size:18px; line-height:1 }
  .lang-wrap{ margin-left:auto; gap:6px }
  .lang-toggle{ font-size:12px; padding:0 2px }
  .user-cta{ gap:6px }
  .user-cta .button{ padding:6px 10px; font-size:12px; white-space:nowrap }
  .user-email{ display:none }

  .container{ padding:12px }
  .card{ padding:12px }
  .chart{ height:260px }

  /* 하단 고정 탭(가로 3등분, 꽉 차게) */
  .bottom-nav{
    position:fixed; left:0; right:0; bottom:0; height:56px; z-index:60;
    background:#fff; border-top:1px solid var(--border);
    display:flex; width:100%;
  }
  .bottom-nav.only-mobile{ display:flex !important; }
  .bn-item{
    flex:1 1 33.333%;
    display:flex; align-items:center; justify-content:center;
    font-weight:900; font-size:16px; color:#475569;
    background:#fff; border:none; cursor:pointer; min-width:0;
  }
  .bn-item + .bn-item{ border-left:1px solid var(--border) }
  .bn-item.active{ background:var(--primary); color:#fff }

  /* Top 버튼이 탭과 겹치지 않게 */
  .fab-top{ bottom:72px }
}

/* 기본: 모바일이 아닐 때는 하단탭 숨김 */
.bottom-nav{ display:none }


/* ===== Admin Panel (polish) ============================================== */
.admin-overlay{
  position:fixed; inset:0; background:#fff;
  display:flex; flex-direction:column;
  z-index:9999;
}
.admin-panel{
  width:100%; height:100%; background:#fff;
  display:flex; flex-direction:column;
}

/* 상단 바 */
.admin-top{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:16px 24px; border-bottom:1px solid var(--border); background:#f9fafb;
  flex:0 0 auto;
}
.admin-title{ font-weight:900; font-size:20px; }

/* 좌/우 레이아웃 */
.admin-body{
  display:flex; min-height:560px; position:relative;
}
.admin-left{ 
  width:340px; min-width:240px; max-width:60%;
  border-right:1px solid var(--border); background:#fafafa; 
  overflow:auto; flex-shrink:0;
}
.admin-right{ overflow:auto; background:#fff; flex:1 }
.admin-resizer {
  width:4px; cursor:col-resize; position:absolute; top:0; bottom:0;
  background:transparent; transition:background 0.2s;
}
.admin-resizer:hover,
.admin-resizer.dragging {
  background:var(--primary);
}
.admin-resizer::after {
  content:""; position:absolute; left:-4px; right:-4px;
  top:0; bottom:0; z-index:10;
}

/* 좌측: 회원 리스트 */
.admin-list, .admin-table{ width:100%; border-collapse:separate; border-spacing:0; table-layout:fixed }
.admin-list-wrap{ max-height:100%; overflow:auto }

.admin-list thead th{
  position:sticky; top:0; background:#f3f4f6; z-index:1;
  font-weight:800; font-size:13px; color:#111827; border-bottom:1px solid var(--border);
}
.admin-list th, .admin-list td{
  padding:10px 12px; border-bottom:1px solid var(--border); font-size:13px;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.admin-list tbody tr{ cursor:pointer }
.admin-list tbody tr:hover{ background:#fff7ed }
.admin-list tr.sel{ background:#fffbeb; box-shadow:inset 3px 0 0 var(--primary) }

.admin-list th:nth-child(1){ width:160px } /* Name */
.admin-list th:nth-child(2){ width:220px } /* Email */
.admin-list th:nth-child(3){ width:140px } /* UID */
.admin-list th:nth-child(4){ width:120px } /* Updated */
.admin-list th:nth-child(5),
.admin-list th:nth-child(6),
.admin-list th:nth-child(7),
.admin-list th:nth-child(8){ width:70px; text-align:right }
.admin-list td.num{ text-align:right; font-variant-numeric: tabular-nums }
.admin-list td.mono{ font-family: ui-monospace,SFMono-Regular,Consolas,monospace }

/* 우측 상단: 상세 헤더 & 탭 & 필터 */
.admin-detail-top{
  display:grid; grid-template-columns: 1fr auto auto; gap:12px;
  align-items:center; padding:12px 14px; border-bottom:1px solid var(--border);
}
.admin-member-name{ font-weight:900; font-size:18px }
.admin-member-sub{ color:#6b7280; font-size:12px; margin-top:2px }

.admin-detail-top .tab{
  border:1px solid var(--border); background:#fff; color:#111827;
  padding:8px 12px; border-radius:999px; font-weight:800; cursor:pointer;
}
.admin-detail-top .tab + .tab{ margin-left:6px }
.admin-detail-top .tab.active{ background:var(--primary); border-color:var(--primary); color:#fff }

/* 날짜 입력 필드 높이 맞춤 */
.admin-detail-top .admin-search{ min-width:160px; height:36px; padding:6px 10px }

/* 우측: 요약 카드(기존 .card를 더 깔끔하게) */
.admin-right .card{
  background:#fff; border-color:var(--border);
}
.admin-right .stat-grid{
  display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:12px;
  padding:12px 14px;
}
.admin-right .stat-card{
  border:1px solid var(--border); background:#fff; border-radius:12px; padding:12px;
}
.admin-right .stat-k{ color:#6b7280; font-size:12px }
.admin-right .stat-v{ font-weight:900; font-size:20px; margin-top:4px }

/* 우측: 데이터 테이블 */
.admin-table-wrap{ padding:0 14px 14px }
.admin-table thead th{
  position:sticky; top:0; background:#f8fafc; z-index:1;
  font-weight:800; border-bottom:2px solid var(--border);
}
.admin-table th, .admin-table td{
  padding:9px 10px; border-bottom:1px solid var(--border); font-size:13px;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.admin-table td.num{ text-align:right; font-variant-numeric: tabular-nums }
.admin-table tbody tr:nth-child(odd){ background:#fcfcff }
.admin-table tbody tr:hover{ background:#f5f7ff }

/* 반응형 */
@media (max-width: 980px){
  .admin-body{ grid-template-columns: 1fr }
  .admin-left{ max-height:320px }
}
